<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil do Comerciante</title>


    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        body {
            font-family: Montserrat;
            background-color: #f8f9fa;

        }

        .container-perfil {
            text-align: center;
            padding: 30px;
        }

        .titulo-perfil {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .tipo-de-conta {
            color: #666;
            margin-bottom: 20px;
        }

        /* Switch */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
            margin-left: 5px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: #4CAF50;
        }

        input:checked+.slider:before {
            transform: translateX(30px);
        }

        .status-text {
            display: inline-block;
            margin-left: 10px;
            font-weight: 600;
        }

        .online {
            color: #28a745;
        }

        .offline {
            color: #dc3545;
        }

        .perfil-info {
            margin-top: 30px;
            text-align: left;
            display: inline-block;
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .perfil-info input {
            width: 100%;
            margin-bottom: 10px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        .mapa {
            width: 100%;
            height: 250px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .btn-editar,
        button {
            background-color: orange;
            color: #fff;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }


        .btn-editar:hover {
            transition: 0.5s;
            background-color: rgba(255, 166, 0, 0.86);
        }

        button:hover {
            transition: 0.5s;
            background-color: rgba(255, 166, 0, 0.86);
        }


        .foto-perfil {
            position: relative;
            display: inline-block;
        }

        .foto-perfil img {
            border-radius: 50%;
            cursor: pointer;
            transition: 0.3s;
            width: 150px;
            height: 150px;
            object-fit: cover;
        }

        .icon-editar-foto {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background-color: orange;
            color: white;
            border-radius: 50%;
            padding: 6px;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .icon-editar-foto:hover {
            background-color: rgba(255, 166, 0, 0.86);
        }

        .username {
            font-weight: 500;
        }

        .editar-comercio {
            display: flex;
            margin-top: 15px;
            justify-content: center;
        }

        .nav-link {
            color: #2c8eb8;
            ;
        }

        .nav-link:hover {
            color: #6EC1E4;
            transition: 0.5s;
        }

        .footer {
            background-color: #f1f1f1;
            display: flex;
            justify-content: space-around;
            padding: 30px;
            margin-top: 60px;
        }

        .footer-frase {
            text-align: center;
            padding: 10px;
            background-color: #e9ecef;
            margin-bottom: 0;
        }
    </style>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <img src="/Projeto Final/logo/WhatsApp_Image_2025-10-24_at_14.04.13-removebg-preview.png" width="10%">
                <h5 class="logo-nome">BairroConecta</h5>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto align-items-center">
                        <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Link</a></li>
                        <li class="nav-item">

                            <img src="https://saberescincopuntocero.com/wp-content/uploads/2020/10/PERFIL-VACIO.png"
                                width="40">

                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container-perfil">

            <div class="foto-perfil">
                <img id="fotoPerfil" src="https://cdn-icons-png.flaticon.com/512/9706/9706583.png"
                    alt="Foto do motoboy">
                <span class="material-icons icon-editar-foto" id="btnEditarFoto">edit</span>
                <input type="file" id="inputFoto" accept="image/*" style="display: none;">
            </div>

            <h2 class="titulo-perfil">Painel do Colaborador</h2>
            <h6 class="tipo-de-comercio" id="tipoComercioDisplay">Sacolão</h6>
            <p class="username"></p>
            <p id="username" class="username nomeComercio"></p>


            <div class="status">
                <label class="switch">
                    <input type="checkbox" id="toggleStatus">
                    <span class="slider"></span>
                </label>
                <span id="statusText" class="status-text offline">Fechado</span>
            </div>

            <div class="perfil-info">
                <ul class="nav justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Informações do Perfil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Informações Da Empresa</a>
                    </li>
                </ul>
                <h5>Informações do Perfil</h5>
                <label>Nome do Negócio:</label>
                <input type="text" id="inputNome" value="Sacolão do João">
                <label>Tipo de Negócio:</label>
                <input type="text" id="inputTipoComercio" value="Sacolão">
                <label>Cidade:</label>
                <input type="text" id="inputCidade" value="São Paulo/SP">
                <button class="btn-editar" id="btnSalvar">Salvar</button>

                <iframe class="mapa" id="mapFrame" src="https://www.google.com/maps?q=São%20Paulo&output=embed"
                    allowfullscreen>
                </iframe>
            </div>
        </div>

        <footer class="footer">
            <div>
                <p class="titulo-footer">DIRETÓRIO</p>
                <p>Sobre Nós</p>
                <p>Blog</p>
                <p>Contato</p>
            </div>

            <div>
                <p class="titulo-footer">LEGAL</p>
                <p>Política de Privacidade</p>
                <p>Termos de Serviço</p>
            </div>

            <div>
                <p class="titulo-footer">JUNTE-SE À NOSSA COMUNIDADE</p>
                <p>Receba as últimas novidades e ofertas diretamente na sua caixa de entrada.</p>
                <input type="email" placeholder="Seu email" required>
                <button class="btn btnf">Inscrever</button>
            </div>
        </footer>

        <p class="footer-frase">&copy; 2025 Conecta Vizinhos — Todos os direitos reservados.</p>
    </header>
    <script>
        const toggle = document.getElementById('toggleStatus');
        const statusText = document.getElementById('statusText');
        const inputNome = document.getElementById('inputNome');
        const inputTipoComercio = document.getElementById('inputTipoComercio');
        const inputCidade = document.getElementById('inputCidade');
        const btnSalvar = document.getElementById('btnSalvar');
        const mapFrame = document.getElementById('mapFrame');
        const fotoPerfil = document.getElementById('fotoPerfil');
        const inputFoto = document.getElementById('inputFoto');
        const btnEditarFoto = document.getElementById('btnEditarFoto');
        const usernameDisplay = document.getElementById('username');
        const tipoComercioDisplay = document.getElementById('tipoComercioDisplay');

        //Carregar dados salvos do localStorage (se existirem)
        window.addEventListener('DOMContentLoaded', () => {
            const nomeSalvo = localStorage.getItem('nomeUsuario');
            const tipoComercioSalvo = localStorage.getItem('tipoComercioUsuario');
            const cidadeSalva = localStorage.getItem('cidadeUsuario');
            const fotoSalva = localStorage.getItem('fotoUsuario');


            if (nomeSalvo) {
                usernameDisplay.textContent = nomeSalvo;
                inputNome.value = nomeSalvo;
            } else {
                usernameDisplay.textContent = inputNome.value;
            }


            if (tipoComercioSalvo) {
                tipoComercioDisplay.textContent = tipoComercioSalvo;
                inputTipoComercio.value = tipoComercioSalvo;
            }

            //Cidade e mapa
            if (cidadeSalva) {
                inputCidade.value = cidadeSalva;
                mapFrame.src = `https://www.google.com/maps?q=${encodeURIComponent(cidadeSalva)}&output=embed`;
            }


            if (fotoSalva) {
                fotoPerfil.src = fotoSalva;
            }
        });

        //Alternar status aberto/fechado
        toggle.addEventListener('change', () => {
            if (toggle.checked) {
                statusText.textContent = 'Aberto';
                statusText.classList.add('online');
                statusText.classList.remove('offline');
            } else {
                statusText.textContent = 'Fechado';
                statusText.classList.add('offline');
                statusText.classList.remove('online');
            }
        });


        btnSalvar.addEventListener('click', () => {
            const nome = inputNome.value.trim();
            const tipoComercio = inputTipoComercio.value.trim();
            const cidade = inputCidade.value.trim();


            if (nome) {
                usernameDisplay.textContent = nome;
                localStorage.setItem('nomeUsuario', nome);
            }


            if (tipoComercio) {
                tipoComercioDisplay.textContent = tipoComercio;
                localStorage.setItem('tipoComercioUsuario', tipoComercio);
            }

            //Cidade
            if (cidade) {
                mapFrame.src = `https://www.google.com/maps?q=${encodeURIComponent(cidade)}&output=embed`;
                localStorage.setItem('cidadeUsuario', cidade);
            }

            alert('Informações atualizadas com sucesso!');
        });


        btnEditarFoto.addEventListener('click', () => {
            inputFoto.click();
        });

        inputFoto.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    fotoPerfil.src = e.target.result;
                    localStorage.setItem('fotoUsuario', e.target.result);
                };
                reader.readAsDataURL(file);
            }
        });
    </script>

</body>

</html>